---
name: review
description: 複数の専門エージェントによるコードレビューを実行
priority: medium
suitable_for:
  scale: [small, medium, large]
  type: [review, analysis]
  understanding: "≥ 50%"
  urgency: [low, medium]
aliases: [code-review, cr]
timeout: 90
context:
  files_changed: "none"
  lines_changed: "0"
  new_features: false
  breaking_changes: false
---

# /review - コードレビューオーケストレーター

## 目的
複数の専門レビューエージェントを調整して、包括的なコード分析を提供します。

## 使用方法
レビューしたい内容を簡単に説明してください：
- 「認証コードをレビュー」
- 「コンポーネントのアクセシビリティをチェック」
- 「APIエンドポイントのセキュリティレビュー」
- 「最近の変更の完全レビュー」

## 実行戦略

### 1. スコープ分析
- レビューが必要なもの（ファイル/ディレクトリ）を特定
- コードタイプ（フロントエンド/バックエンド/インフラ）を識別
- 必要なレビュー深度を評価

### 2. エージェント選択
スコープに基づいて関連エージェントを自動選択：
- **フロントエンド**: accessibility、design-pattern、performance レビュアー
- **セキュリティ**: すべてのコードタイプに対するsecurity-reviewer
- **品質**: readability、structure、type-safety レビュアー
- **アーキテクチャ**: root-cause、testability レビュアー

### 3. TodoWrite統合
レビュー進捗を追跡：
```
# レビュー: [対象の説明]
1. ⏳ スコープ分析
2. ⏳ レビューエージェント実行
3. ⏳ 結果の統合
4. ⏳ 推奨事項の生成
```

### 4. Taskエージェントによるオーケストレーション
`review-orchestrator`エージェントを使用して：
- 複数のレビューエージェントを並列で調整
- 重要な問題を優先順位付け
- 結果を実行可能なレポートに統合
- 該当する場合は修正提案を生成

## レビューレベル

### クイック（2-3分）
- 重要な問題のみ
- セキュリティ脆弱性
- 破壊的変更

### 標準（5-7分）
- すべての重要＋高優先度の問題
- パフォーマンス問題
- アクセシビリティ違反
- 型安全性の懸念

### 包括的（10分以上）
- すべての側面での完全分析
- 根本原因分析
- リファクタリング提案
- 技術的負債の評価

## 利用可能なレビューエージェント

### コアレビュアー
- `review-orchestrator` - すべてのレビュー活動を調整
- `frontend-structure-reviewer` - コード組織とパターン
- `frontend-root-cause-reviewer` - 深い問題分析

### 品質レビュアー
- `frontend-readability-reviewer` - コードの明確性と保守性
- `type-safety-reviewer` - TypeScriptと型カバレッジ
- `testability-reviewer` - テスト設計とカバレッジ

### 専門レビュアー
- `security-reviewer` - セキュリティ脆弱性
- `accessibility-reviewer` - WCAG準拠とa11y
- `performance-reviewer` - パフォーマンスボトルネック
- `design-pattern-reviewer` - アーキテクチャとパターン
- `progressive-enhancer` - プログレッシブエンハンスメントアプローチ

## 出力フォーマット

```markdown
## レビューサマリー
- スコープ: [レビューされたファイル/ディレクトリ]
- 発見された問題: [重要度別のカウント]
- 即座のアクション: [重要項目]

## 重要な問題 🚨
[即座の注意が必要な問題]

## 高優先度 ⚠️
[重要な改善が必要]

## 推奨事項 💡
[提案される改善とベストプラクティス]

## 次のステップ
[優先順位付けされたアクション項目]
```

## 使用する場合
- プルリクエスト作成前
- 大規模なリファクタリング後
- 不慣れなコードを引き継ぐ時
- 定期的な品質チェック
- セキュリティ監査要件

## 使用しない場合
- 単一ファイルの簡単な修正（`/fix`を使用）
- アクティブな開発中（中断が多すぎる）
- 緊急ホットフィックス（`/hotfix`を使用）

## 使用例
```
/review "新しい認証実装をチェック"
/review "支払い処理のセキュリティレビュー"
/review "チェックアウトフローのアクセシビリティ監査"
/review "v2.0リリース前の完全レビュー"
```

## 効果的なレビューのヒント
1. レビューが必要なものを**具体的に**指定
2. 開発サイクルの**早期にレビュー**
3. 可能な場合は**一度に1つの領域**に焦点を当てる
4. 重要な問題には**即座に対処**
5. 時間の経過とともに**改善を追跡**

## 次のステップ
- 重要な問題 → `/fix` または `/hotfix`
- リファクタリングニーズ → `/think` その後 `/code`
- パフォーマンス問題 → ターゲットを絞った最適化
- テストカバレッジ → 特定の焦点で `/test`
