---
name: fix
description: 開発環境で小さなバグの修正や軽微な改善を素早く実行
priority: high
suitable_for:
  scale: [small]
  type: [fix, refactor]
  understanding: "≥ 80%"
  urgency: [low, medium]  # Not for emergencies
  environment: development  # Development environment only
aliases: [qf]
timeout: 30
context:
  files_changed: "< 3"
  lines_changed: "< 50"
  new_features: false
  breaking_changes: false
excludes: [hotfix]  # Don't suggest both
---

# /fix - 小さな問題の修正

## 目的
完全なワークフローのオーバーヘッドなしに、小さなバグを素早く修正したり、軽微な改善を行います。

## 使用方法
広範な計画や調査を必要としない簡単な修正に使用します。

## ワークフロー
合理化された組み合わせ：
1. **ミニ思考**: 素早い根本原因分析
2. **ミニコード**: ターゲットを絞った実装
3. **ミニテスト**: 焦点を絞った検証

## 実行ステップ

### 1. 迅速な分析
[@~/.claude/rules/development/PROGRESSIVE_ENHANCEMENT.md] からのProgressive Enhancementを適用：
- 特定の問題と根本原因を特定
- JSを使用する前にCSSで解決できるか確認
- 影響を受けるファイルを特定
- 最小限の修正アプローチを決定

### 2. 実装
Progressive Enhancementアプローチに従う：
- 最もシンプルな解決策を使用して対象の修正を適用（UIはCSSファースト）
- 既存のコードパターンに従う
- 必要に応じてテストを追加/更新

### 3. 検証
- 利用可能なテストを実行
- 修正が問題を解決することを確認
- リグレッションをチェック

## TodoWrite統合
TodoWriteで修正の進捗を追跡：
```
# 修正: [問題の説明]
1. ⏳ 分析: 根本原因とアプローチを特定
2. ⏳ 実装: 修正を適用
3. ⏳ 検証: テストと修正の確認
```

各フェーズを進むにつれてタスクのステータスを更新します。

## 完了の定義
修正は以下の場合に完了：
- 根本原因が特定され対処された
- 最小限の複雑さで修正が適用された
- テストがパス（該当する場合）
- 品質チェックがクリーン（プロジェクトにある場合）
- リグレッションが導入されていない

## 出力フォーマット
```markdown
## 修正の概要
- 問題: [簡潔な説明]
- 変更されたファイル: [ファイルのリスト]
- テストの更新: [はい/いいえ]
- 検証: [合格/失敗]
```

## 使用する場合
- 単一ファイルの修正
- タイポの修正
- 簡単なロジックエラー
- 小さなUI調整（CSSファーストアプローチ）
- レイアウトの問題（Grid/Flexboxソリューション）
- レスポンシブデザインの修正
- 設定の更新

## 使用しない場合
- 複数ファイルのリファクタリング
- 新機能の実装
- 複雑なアーキテクチャの変更
- 調査が必要な問題

## 使用例
```
/fix "ヘッダーのボタン配置の問題を修正"
/fix "エラーメッセージのタイポを修正"
/fix "APIエンドポイントURLを更新"
```

## 次のステップ
- 成功した場合：学習のため `/reflect` を検討
- 複雑な場合：`/think` から始まる完全なワークフローに切り替え

## 適用される原則
このコマンドは [@~/.claude/rules/development/PROGRESSIVE_ENHANCEMENT.md] からのProgressive Enhancementを適用します：
- UI問題に対するCSSファーストアプローチ
- 根本原因分析
- 最小限の複雑さのソリューション

## コマンド識別ガイド

### `/fix` を使用する場合：
- 🔧 開発環境で作業中
- 問題が小さく、よく理解されている
- 修正は通常通りテストできる
- 本番環境の緊急事態ではない
- 標準的なデプロイタイムラインが許容可能

### 代わりに `/hotfix` を使用する場合：
- 🚨 本番環境がダウンまたは障害がある
- 本番環境のセキュリティ脆弱性
- ユーザーが積極的に影響を受けている
- 即座のデプロイが必要
- 緊急対応が必要

### 主な違い
- **fix**: 通常のテスト/デプロイを伴う迅速な開発修正
- **hotfix**: 即座のアクションが必要な緊急本番修正
